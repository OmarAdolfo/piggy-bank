function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,a){for(var e=0;e<a.length;e++){var o=a[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,a,e){return a&&_defineProperties(t.prototype,a),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{Pvsk:function(t,a,e){"use strict";e.r(a);var o,n=e("PCNd"),s=e("tyNb"),r=e("fXoL"),i=e("qan5"),c=e("AytR"),l=e("tk/3"),d=((o=function(){function t(a){_classCallCheck(this,t),this.http=a,this.url=c.a.url+"estadisticas"}return _createClass(t,[{key:"getStats",value:function(){return this.http.get(this.url)}}]),t}()).\u0275fac=function(t){return new(t||o)(r.Xb(l.b))},o.\u0275prov=r.Jb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),u=e("I5S5"),b=e("ofXK");function h(t,a){if(1&t&&r.Ob(0,"p-chart",9),2&t){var e=r.dc();r.jc("data",e.data3)("options",e.options)}}function p(t,a){1&t&&r.Gc(0," No existen gastos para generar estad\xedsticas ")}var f,v,C=[{path:"",component:(f=function(){function t(a,e){_classCallCheck(this,t),this.monthService=a,this.statsService=e,this.colors=["#6D960E","#C9A452","#95280E","#7A15C6","#5DC25B","#599BA5","#6B552B"],this.colorIndex=0,this.options={responsive:!1,maintainAspectRatio:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.statsService.getStats().subscribe((function(a){t.calculateStatsByMonthAndYear(a.pagosmes,a.ingresosmes),t.data2={labels:["Ganancias","Gastos"],datasets:[{data:[a.ingresos,a.pagos],backgroundColor:["#FF6384","#9CCC65"],hoverBackgroundColor:["#FF6384","#9CCC65"]}]},t.calculateStatsExpenses(a.gastos)}))}},{key:"calculateStatsByMonthAndYear",value:function(t,a){for(var e=[],o=[],n=function(n){var s=t.find((function(t){return t.mes===n}));e.push(s?s.total:0);var r=a.find((function(t){return t.mes===n}));o.push(r?r.total:0)},s=1;s<=12;s++)n(s);this.data={labels:this.monthService.getMonths().map((function(t){return t.name})),datasets:[{label:"Gastos",backgroundColor:"#42A5F5",borderColor:"#1E88E5",data:e},{label:"Ingresos",backgroundColor:"#9CCC65",borderColor:"#7CB342",data:o}]}}},{key:"calculateStatsExpenses",value:function(t){var a=[],e=[],o=[],n=[],s=!0,r=!1,i=void 0;try{for(var c,l=t[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var d=c.value;a.push(d.nombre),e.push(d.total);var u=this.getRandomColor();o.push(u),n.push(u)}}catch(b){r=!0,i=b}finally{try{s||null==l.return||l.return()}finally{if(r)throw i}}this.data3={labels:a,datasets:[{data:e,backgroundColor:o,hoverBackgroundColor:n}]}}},{key:"getRandomColor",value:function(){var t=this.colors[this.colorIndex];return this.colorIndex===this.colors.length-1?this.colorIndex=0:this.colorIndex++,t}}]),t}(),f.\u0275fac=function(t){return new(t||f)(r.Nb(i.a),r.Nb(d))},f.\u0275cmp=r.Hb({type:f,selectors:[["app-stats"]],decls:28,vars:6,consts:[[1,"wrapper"],[1,"row"],[1,"col-12"],[1,"row","mt-3"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"card-body"],["type","bar","width","300","height","300",3,"data","options"],[1,"col-12","col-md-6"],["type","doughnut","width","300","height","300",3,"data","options"],["type","doughnut","width","300","height","300",3,"data","options",4,"ngIf","ngIfElse"],["noExpenses",""]],template:function(t,a){if(1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"h1"),r.Gc(4,"Estad\xedsticas"),r.Sb(),r.Sb(),r.Sb(),r.Ob(5,"hr"),r.Tb(6,"div",3),r.Tb(7,"div",2),r.Tb(8,"div",4),r.Tb(9,"div",5),r.Gc(10," Ingresos y pagos por mes del a\xf1o actual "),r.Sb(),r.Tb(11,"div",6),r.Ob(12,"p-chart",7),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(13,"div",3),r.Tb(14,"div",8),r.Tb(15,"div",4),r.Tb(16,"div",5),r.Gc(17," Ganancias/Gastos "),r.Sb(),r.Tb(18,"div",6),r.Ob(19,"p-chart",9),r.Sb(),r.Sb(),r.Sb(),r.Tb(20,"div",8),r.Tb(21,"div",4),r.Tb(22,"div",5),r.Gc(23," Gastos con mayor dinero invertido "),r.Sb(),r.Tb(24,"div",6),r.Ec(25,h,1,2,"p-chart",10),r.Ec(26,p,1,0,"ng-template",null,11,r.Fc),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t){var e=r.uc(27);r.Bb(12),r.jc("data",a.data)("options",a.options),r.Bb(7),r.jc("data",a.data2)("options",a.options),r.Bb(6),r.jc("ngIf",(null==a.data3?null:a.data3.labels.length)>0)("ngIfElse",e)}},directives:[u.b,b.k],styles:[""]}),f)}],g=((v=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:v}),v.\u0275inj=r.Kb({factory:function(t){return new(t||v)},imports:[[s.e.forChild(C)],s.e]}),v);e.d(a,"StatsModule",(function(){return S}));var y,S=((y=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:y}),y.\u0275inj=r.Kb({factory:function(t){return new(t||y)},imports:[[n.a,u.a,g]]}),y)}}]);