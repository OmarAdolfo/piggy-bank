function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,a){for(var n=0;n<a.length;n++){var e=a[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function _createClass(t,a,n){return a&&_defineProperties(t.prototype,a),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{Pvsk:function(t,a,n){"use strict";n.r(a);var e,o=n("PCNd"),s=n("tyNb"),r=n("fXoL"),i=n("qan5"),c=n("AytR"),l=n("tk/3"),d=((e=function(){function t(a){_classCallCheck(this,t),this.http=a,this.url=c.a.url+"estadisticas"}return _createClass(t,[{key:"getStats",value:function(){return this.http.get(this.url)}}]),t}()).\u0275fac=function(t){return new(t||e)(r.Xb(l.b))},e.\u0275prov=r.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e),u=n("ofXK"),b=n("I5S5");function h(t,a){if(1&t&&r.Ob(0,"p-chart",13),2&t){var n=r.dc();r.jc("data",n.data)("options",n.options)}}function p(t,a){1&t&&r.Gc(0," No existen pagos ni ingresos en el a\xf1o actual para generar estad\xedsticas ")}function f(t,a){if(1&t&&r.Ob(0,"p-chart",14),2&t){var n=r.dc();r.jc("data",n.data2)("options",n.options)}}function g(t,a){1&t&&r.Gc(0," No existen pagos ni ingresos para generar estad\xedsticas ")}function v(t,a){if(1&t&&r.Ob(0,"p-chart",14),2&t){var n=r.dc();r.jc("data",n.data3)("options",n.options)}}function C(t,a){1&t&&r.Gc(0," No existen gastos para generar estad\xedsticas ")}var y,S,m=[{path:"",component:(y=function(){function t(a,n){_classCallCheck(this,t),this.monthService=a,this.statsService=n,this.colors=["#6D960E","#C9A452","#95280E","#7A15C6","#5DC25B","#599BA5","#6B552B"],this.colorIndex=0,this.options={responsive:!1,maintainAspectRatio:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.statsService.getStats().subscribe((function(a){t.calculateStatsByMonthAndYear(a.pagosmes,a.ingresosmes),t.data2=0!==a.ingresos&&0!==a.pagos?{labels:["Ganancias","Gastos"],datasets:[{data:[a.ingresos,a.pagos],backgroundColor:["#FF6384","#9CCC65"],hoverBackgroundColor:["#FF6384","#9CCC65"]}]}:null,t.calculateStatsExpenses(a.gastos)}))}},{key:"calculateStatsByMonthAndYear",value:function(t,a){if(t.length>0||a.length>0){for(var n=[],e=[],o=function(o){var s=t.find((function(t){return t.mes===o}));n.push(s?s.total:0);var r=a.find((function(t){return t.mes===o}));e.push(r?r.total:0)},s=1;s<=12;s++)o(s);this.data={labels:this.monthService.getMonths().map((function(t){return t.name})),datasets:[{label:"Gastos",backgroundColor:"#42A5F5",borderColor:"#1E88E5",data:n},{label:"Ingresos",backgroundColor:"#9CCC65",borderColor:"#7CB342",data:e}]}}else this.data=null}},{key:"calculateStatsExpenses",value:function(t){var a=[],n=[],e=[],o=[],s=!0,r=!1,i=void 0;try{for(var c,l=t[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var d=c.value;a.push(d.nombre),n.push(d.total);var u=this.getRandomColor();e.push(u),o.push(u)}}catch(b){r=!0,i=b}finally{try{s||null==l.return||l.return()}finally{if(r)throw i}}this.data3={labels:a,datasets:[{data:n,backgroundColor:e,hoverBackgroundColor:o}]}}},{key:"getRandomColor",value:function(){var t=this.colors[this.colorIndex];return this.colorIndex===this.colors.length-1?this.colorIndex=0:this.colorIndex++,t}}]),t}(),y.\u0275fac=function(t){return new(t||y)(r.Nb(i.a),r.Nb(d))},y.\u0275cmp=r.Hb({type:y,selectors:[["app-stats"]],decls:32,vars:6,consts:[[1,"wrapper"],[1,"row"],[1,"col-12"],[1,"row","mt-3"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"card-body"],["type","bar","width","300","height","300",3,"data","options",4,"ngIf","ngIfElse"],["noActualYear",""],[1,"col-12","col-md-6"],["type","doughnut","width","300","height","300",3,"data","options",4,"ngIf","ngIfElse"],["noExpensesAndProfits",""],["noExpenses",""],["type","bar","width","300","height","300",3,"data","options"],["type","doughnut","width","300","height","300",3,"data","options"]],template:function(t,a){if(1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"h1"),r.Gc(4,"Estad\xedsticas"),r.Sb(),r.Sb(),r.Sb(),r.Ob(5,"hr"),r.Tb(6,"div",3),r.Tb(7,"div",2),r.Tb(8,"div",4),r.Tb(9,"div",5),r.Gc(10," Ingresos y pagos por mes del a\xf1o actual "),r.Sb(),r.Tb(11,"div",6),r.Ec(12,h,1,2,"p-chart",7),r.Ec(13,p,1,0,"ng-template",null,8,r.Fc),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(15,"div",3),r.Tb(16,"div",9),r.Tb(17,"div",4),r.Tb(18,"div",5),r.Gc(19," Ganancias/Gastos "),r.Sb(),r.Tb(20,"div",6),r.Ec(21,f,1,2,"p-chart",10),r.Ec(22,g,1,0,"ng-template",null,11,r.Fc),r.Sb(),r.Sb(),r.Sb(),r.Tb(24,"div",9),r.Tb(25,"div",4),r.Tb(26,"div",5),r.Gc(27," Gastos con mayor dinero invertido "),r.Sb(),r.Tb(28,"div",6),r.Ec(29,v,1,2,"p-chart",10),r.Ec(30,C,1,0,"ng-template",null,12,r.Fc),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t){var n=r.uc(14),e=r.uc(23),o=r.uc(31);r.Bb(12),r.jc("ngIf",a.data)("ngIfElse",n),r.Bb(9),r.jc("ngIf",a.data2)("ngIfElse",e),r.Bb(8),r.jc("ngIf",(null==a.data3?null:a.data3.labels.length)>0)("ngIfElse",o)}},directives:[u.k,b.b],styles:[""]}),y)}],k=((S=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:S}),S.\u0275inj=r.Kb({factory:function(t){return new(t||S)},imports:[[s.e.forChild(m)],s.e]}),S);n.d(a,"StatsModule",(function(){return E}));var w,E=((w=function t(){_classCallCheck(this,t)}).\u0275mod=r.Lb({type:w}),w.\u0275inj=r.Kb({factory:function(t){return new(t||w)},imports:[[o.a,b.a,k]]}),w)}}]);