function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,a,e){return a&&_defineProperties(t.prototype,a),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{Pvsk:function(t,a,e){"use strict";e.r(a);var n,o=e("PCNd"),s=e("tyNb"),r=e("fXoL"),i=e("qan5"),c=e("AytR"),l=e("tk/3"),d=((n=function(){function t(a){_classCallCheck(this,t),this.http=a,this.url=c.a.url+"estadisticas"}return _createClass(t,[{key:"getStats",value:function(){return this.http.get(this.url)}}]),t}()).\u0275fac=function(t){return new(t||n)(r.Yb(l.b))},n.\u0275prov=r.Kb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),u=e("ofXK"),b=e("I5S5");function h(t,a){if(1&t&&r.Pb(0,"p-chart",14),2&t){var e=r.ec();r.kc("data",e.data)("options",e.options)}}function p(t,a){1&t&&r.Hc(0," No existen pagos ni ingresos en el a\xf1o actual para generar estad\xedsticas ")}function f(t,a){if(1&t&&r.Pb(0,"p-chart",15),2&t){var e=r.ec();r.kc("data",e.data2)("options",e.options)}}function v(t,a){1&t&&r.Hc(0," No existen pagos ni ingresos para generar estad\xedsticas ")}function g(t,a){if(1&t&&r.Pb(0,"p-chart",15),2&t){var e=r.ec();r.kc("data",e.data3)("options",e.options)}}function C(t,a){1&t&&r.Hc(0," No existen gastos para generar estad\xedsticas ")}var y,m,k=[{path:"",component:(y=function(){function t(a,e){_classCallCheck(this,t),this.monthService=a,this.statsService=e,this.colors=["#6D960E","#C9A452","#95280E","#7A15C6","#5DC25B","#599BA5","#6B552B"],this.colorIndex=0,this.options={responsive:!1,maintainAspectRatio:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.statsService.getStats().subscribe((function(a){t.calculateStatsByMonthAndYear(a.pagosmes,a.ingresosmes),t.data2=0!==a.ingresos&&0!==a.pagos?{labels:["Ganancias","Gastos"],datasets:[{data:[a.ingresos,a.pagos],backgroundColor:["#FF6384","#9CCC65"],hoverBackgroundColor:["#FF6384","#9CCC65"]}]}:null,t.calculateStatsExpenses(a.gastos)}))}},{key:"calculateStatsByMonthAndYear",value:function(t,a){if(t.length>0||a.length>0){for(var e=[],n=[],o=function(o){var s=t.find((function(t){return t.mes===o}));e.push(s?s.total:0);var r=a.find((function(t){return t.mes===o}));n.push(r?r.total:0)},s=1;s<=12;s++)o(s);this.data={labels:this.monthService.getMonths().map((function(t){return t.name})),datasets:[{label:"Gastos",backgroundColor:"#42A5F5",borderColor:"#1E88E5",data:e},{label:"Ingresos",backgroundColor:"#9CCC65",borderColor:"#7CB342",data:n}]}}else this.data=null}},{key:"calculateStatsExpenses",value:function(t){var a=[],e=[],n=[],o=[],s=!0,r=!1,i=void 0;try{for(var c,l=t[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var d=c.value;a.push(d.nombre),e.push(d.total);var u=this.getRandomColor();n.push(u),o.push(u)}}catch(b){r=!0,i=b}finally{try{s||null==l.return||l.return()}finally{if(r)throw i}}this.data3={labels:a,datasets:[{data:e,backgroundColor:n,hoverBackgroundColor:o}]}}},{key:"getRandomColor",value:function(){var t=this.colors[this.colorIndex];return this.colorIndex===this.colors.length-1?this.colorIndex=0:this.colorIndex++,t}}]),t}(),y.\u0275fac=function(t){return new(t||y)(r.Ob(i.a),r.Ob(d))},y.\u0275cmp=r.Ib({type:y,selectors:[["app-stats"]],decls:32,vars:6,consts:[[1,"wrapper"],[1,"row"],[1,"col-12"],[1,"row","mt-3"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"card-body"],["type","bar","width","300","height","300",3,"data","options",4,"ngIf","ngIfElse"],["noActualYear",""],[1,"col-12","col-xl-6"],["type","doughnut","width","300","height","300",3,"data","options",4,"ngIf","ngIfElse"],["noExpensesAndProfits",""],[1,"col-12","col-xl-6","mt-4","mt-xl-0"],["noExpenses",""],["type","bar","width","300","height","300",3,"data","options"],["type","doughnut","width","300","height","300",3,"data","options"]],template:function(t,a){if(1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Ub(3,"h1"),r.Hc(4,"Estad\xedsticas"),r.Tb(),r.Tb(),r.Tb(),r.Pb(5,"hr"),r.Ub(6,"div",3),r.Ub(7,"div",2),r.Ub(8,"div",4),r.Ub(9,"div",5),r.Hc(10," Ingresos y pagos por mes del a\xf1o actual "),r.Tb(),r.Ub(11,"div",6),r.Fc(12,h,1,2,"p-chart",7),r.Fc(13,p,1,0,"ng-template",null,8,r.Gc),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(15,"div",3),r.Ub(16,"div",9),r.Ub(17,"div",4),r.Ub(18,"div",5),r.Hc(19," Ganancias/Gastos "),r.Tb(),r.Ub(20,"div",6),r.Fc(21,f,1,2,"p-chart",10),r.Fc(22,v,1,0,"ng-template",null,11,r.Gc),r.Tb(),r.Tb(),r.Tb(),r.Ub(24,"div",12),r.Ub(25,"div",4),r.Ub(26,"div",5),r.Hc(27," Gastos con mayor dinero invertido "),r.Tb(),r.Ub(28,"div",6),r.Fc(29,g,1,2,"p-chart",10),r.Fc(30,C,1,0,"ng-template",null,13,r.Gc),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){var e=r.vc(14),n=r.vc(23),o=r.vc(31);r.Cb(12),r.kc("ngIf",a.data)("ngIfElse",e),r.Cb(9),r.kc("ngIf",a.data2)("ngIfElse",n),r.Cb(8),r.kc("ngIf",(null==a.data3?null:a.data3.labels.length)>0)("ngIfElse",o)}},directives:[u.k,b.b],styles:[""]}),y)}],w=((m=function t(){_classCallCheck(this,t)}).\u0275mod=r.Mb({type:m}),m.\u0275inj=r.Lb({factory:function(t){return new(t||m)},imports:[[s.e.forChild(k)],s.e]}),m);e.d(a,"StatsModule",(function(){return T}));var I,T=((I=function t(){_classCallCheck(this,t)}).\u0275mod=r.Mb({type:I}),I.\u0275inj=r.Lb({factory:function(t){return new(t||I)},imports:[[o.a,b.a,w]]}),I)}}]);