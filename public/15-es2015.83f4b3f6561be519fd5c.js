(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{rtqj:function(e,i,t){"use strict";t.r(i);var r=t("PCNd"),o=t("tyNb"),a=t("3Pt+"),n=t("fXoL"),s=t("OS4P"),c=t("7zfz"),b=t("eHJY"),d=t("arFO"),l=t("ofXK"),f=t("rEr+"),u=t("jIHw");function p(e,i){if(1&e&&n.Ob(0,"p-sortIcon",22),2&e){const e=n.dc().$implicit;n.jc("field",e.field)}}function m(e,i){if(1&e&&(n.Tb(0,"th",20),n.Gc(1),n.Ec(2,p,1,1,"p-sortIcon",21),n.Sb()),2&e){const e=i.$implicit;n.jc("pSortableColumn",e.field),n.Bb(1),n.Ic(" ",e.header," "),n.Bb(1),n.jc("ngIf",e.sortOrder)}}function h(e,i){if(1&e&&(n.Tb(0,"tr"),n.Ec(1,m,3,3,"th",19),n.Sb()),2&e){const e=i.$implicit;n.Bb(1),n.jc("ngForOf",e)}}function v(e,i){if(1&e){const e=n.Ub();n.Tb(0,"tr",23),n.Tb(1,"td"),n.Tb(2,"span",24),n.Gc(3,"Nombre"),n.Sb(),n.Gc(4),n.Sb(),n.Tb(5,"td"),n.Tb(6,"span",24),n.Gc(7,"Tipo Ganancia"),n.Sb(),n.Gc(8),n.Sb(),n.Tb(9,"td"),n.Tb(10,"button",25),n.bc("click",(function(){n.wc(e);const t=i.$implicit;return n.dc().onRowSelect(t.id)})),n.Tb(11,"span"),n.Ob(12,"i",26),n.Sb(),n.Sb(),n.Tb(13,"button",25),n.bc("click",(function(){n.wc(e);const t=i.$implicit;return n.dc().confirm(t.id)})),n.Tb(14,"span"),n.Ob(15,"i",27),n.Sb(),n.Sb(),n.Sb(),n.Sb()}if(2&e){const e=i.$implicit;n.jc("pSelectableRow",e),n.Bb(4),n.Ic(" ",e.nombre," "),n.Bb(4),n.Ic(" ",e.id_tipo_ganancia.valor," ")}}function g(e,i){if(1&e){const e=n.Ub();n.Tb(0,"div",28),n.Tb(1,"button",29),n.bc("click",(function(){return n.wc(e),n.dc().add()})),n.Sb(),n.Sb()}}const S=function(e,i){return{"fa-search":e,"fa-spinner fa-spin":i}};let T=(()=>{class e{constructor(e,i,t,r,o,a){this.profitService=e,this.formBuilder=i,this.messageService=t,this.confirmationService=r,this.router=o,this.typeProfitService=a,this.typesProfit=[],this.cols=[{field:"nombre",header:"Nombre",sortOrder:!0},{field:"tipoGanancia",header:"Tipo Ganancia",sortOrder:!0},{field:"",header:"Opciones",sortOrder:!1}]}ngOnInit(){this.buildForm(),this.getTypesProfit()}getTypesProfit(){this.typeProfitService.findAll().subscribe(e=>{this.typesProfit=e.data})}buildForm(){this.form=this.formBuilder.group({nombre:new a.c(""),id_tipo_ganancia:new a.c("")})}add(){this.router.navigate(["/home/profits/new"])}search(e,i,t){Promise.resolve().then(()=>this.loading=!0),this.profitService.get(this.form.value,e,i,t).subscribe(e=>{this.profits=e.data.data,this.totalRecords=e.data.total,this.loading=!1},()=>{this.loading=!1})}customSort(e){this.search(e.sortField,e.sortOrder,e.first/e.rows+1)}confirm(e){this.confirmationService.confirm({message:"\xbfEst\xe1s seguro de que deseas borrar?",header:"Confirmaci\xf3n",icon:"pi pi-exclamation-triangle",accept:()=>{this.delete(e)}})}delete(e){this.profitService.delete(e).subscribe(i=>{this.profits=this.profits.filter(i=>i.id!==e),this.messageService.add({severity:"success",summary:"\xc9xito",detail:i.message})},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.error.message})})}onRowSelect(e){this.router.navigate(["/home/profits/"+e])}}return e.\u0275fac=function(i){return new(i||e)(n.Nb(s.a),n.Nb(a.b),n.Nb(c.d),n.Nb(c.a),n.Nb(o.b),n.Nb(b.a))},e.\u0275cmp=n.Hb({type:e,selectors:[["app-profit"]],decls:38,vars:15,consts:[[1,"wrapper"],[1,"row"],[1,"col-12"],[1,"card","mt-3"],[1,"card-header","bg-primary","text-white"],[1,"card-body"],[3,"formGroup"],[1,"col-12","col-md-6","form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre",1,"form-control","form-control-user"],["formControlName","id_tipo_ganancia","placeholder","Seleccione tipo de ganancia","optionLabel","valor",3,"options","showClear"],[1,"row","mt-1"],[1,"col-12","text-right","mt-2"],["type","button",1,"btn","btn-primary","mr-1",3,"disabled","click"],["aria-hidden","true",1,"fas",3,"ngClass"],[3,"columns","value","paginator","rows","responsive","lazy","totalRecords","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field",4,"ngIf"],[3,"field"],[3,"pSelectableRow"],[1,"ui-column-title"],["type","button",1,"btn","btn-secondary","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-edit"],["aria-hidden","true",1,"fas","fa-trash"],[2,"text-align","left"],["type","button","pButton","","icon","pi pi-plus","label","A\xf1adir",3,"click"]],template:function(e,i){1&e&&(n.Tb(0,"div",0),n.Tb(1,"div",1),n.Tb(2,"div",2),n.Tb(3,"h1"),n.Gc(4,"Ganancias"),n.Sb(),n.Sb(),n.Sb(),n.Ob(5,"hr"),n.Tb(6,"div",3),n.Tb(7,"div",4),n.Gc(8," Buscador de ganancias "),n.Sb(),n.Tb(9,"div",5),n.Tb(10,"div",1),n.Tb(11,"div",2),n.Tb(12,"form",6),n.Tb(13,"div",1),n.Tb(14,"div",7),n.Tb(15,"label",8),n.Gc(16,"Nombre"),n.Sb(),n.Ob(17,"input",9),n.Sb(),n.Tb(18,"div",7),n.Tb(19,"label",8),n.Gc(20,"Tipo de ganancia"),n.Sb(),n.Ob(21,"p-dropdown",10),n.Sb(),n.Sb(),n.Tb(22,"div",11),n.Tb(23,"div",12),n.Tb(24,"button",13),n.bc("click",(function(){return i.search()})),n.Ob(25,"i",14),n.Tb(26,"span"),n.Gc(27," Buscar"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Tb(28,"div",3),n.Tb(29,"div",4),n.Gc(30," Listado de ganancias "),n.Sb(),n.Tb(31,"div",5),n.Tb(32,"div",1),n.Tb(33,"div",2),n.Tb(34,"p-table",15),n.bc("onLazyLoad",(function(e){return i.customSort(e)})),n.Ec(35,h,2,1,"ng-template",16),n.Ec(36,v,16,3,"ng-template",17),n.Ec(37,g,2,0,"ng-template",18),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb()),2&e&&(n.Bb(12),n.jc("formGroup",i.form),n.Bb(9),n.jc("options",i.typesProfit)("showClear",!0),n.Bb(3),n.jc("disabled",i.loading),n.Bb(1),n.jc("ngClass",n.nc(12,S,!i.loading,i.loading)),n.Bb(9),n.jc("columns",i.cols)("value",i.profits)("paginator",!0)("rows",10)("responsive",!0)("lazy",!0)("totalRecords",i.totalRecords))},directives:[a.o,a.i,a.e,a.a,a.h,a.d,d.a,l.i,f.d,c.e,l.j,f.c,l.k,f.b,f.a,u.a],styles:[""]}),e})();class y{}var w=t("wMtC"),j=t("AytR"),B=t("tk/3");let G=(()=>{class e{constructor(e){this.http=e,this.url=j.a.url+"ingresos"}find(e){return this.http.get(this.url+"/"+e)}add(e){return this.http.post(this.url,e)}update(e){return this.http.put(this.url+"/"+e.id,e)}delete(e){return this.http.delete(this.url+"/"+e)}}return e.\u0275fac=function(i){return new(i||e)(n.Xb(B.b))},e.\u0275prov=n.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var I=t("xlun");function E(e,i){1&e&&(n.Tb(0,"div",1),n.Ob(1,"img",10),n.Sb())}function O(e,i){1&e&&(n.Tb(0,"div"),n.Gc(1," El nombre es obligatorio "),n.Sb())}function k(e,i){1&e&&(n.Tb(0,"div"),n.Gc(1," El nombre no puede ser vac\xedo "),n.Sb())}function N(e,i){if(1&e&&(n.Tb(0,"div",27),n.Ec(1,O,2,0,"div",28),n.Ec(2,k,2,0,"div",28),n.Sb()),2&e){const e=n.dc(2);n.Bb(1),n.jc("ngIf",e.form.controls.nombre.errors.required),n.Bb(1),n.jc("ngIf",e.form.controls.nombre.errors.whitespace)}}function _(e,i){if(1&e&&(n.Tb(0,"span"),n.Gc(1),n.Sb()),2&e){const e=i.$implicit;n.Bb(1),n.Hc(e.label)}}function x(e,i){if(1&e&&(n.Tb(0,"span",29),n.Gc(1),n.Sb()),2&e){const e=i.$implicit;n.kc("pTooltip",e.value.descripcion),n.Bb(1),n.Hc(e.label)}}function C(e,i){1&e&&(n.Tb(0,"div"),n.Gc(1," El tipo de ganancia es obligatorio "),n.Sb())}function P(e,i){if(1&e&&(n.Tb(0,"div",27),n.Ec(1,C,2,0,"div",28),n.Sb()),2&e){const e=n.dc(2);n.Bb(1),n.jc("ngIf",e.form.controls.id_tipo_ganancia.errors.required)}}const R=function(e,i){return{"fa-save":e,"fa-spinner fa-spin":i}};function F(e,i){if(1&e){const e=n.Ub();n.Tb(0,"div",11),n.Tb(1,"div",12),n.Gc(2," Dise\xf1ador ganancia "),n.Sb(),n.Tb(3,"div",13),n.Tb(4,"div",1),n.Tb(5,"div",2),n.Tb(6,"form",14),n.Tb(7,"div",1),n.Tb(8,"div",15),n.Tb(9,"label",16),n.Gc(10,"Nombre"),n.Sb(),n.Ob(11,"input",17),n.Ec(12,N,3,2,"div",18),n.Sb(),n.Tb(13,"div",15),n.Tb(14,"label",19),n.Gc(15,"Tipo de ganancia"),n.Sb(),n.Tb(16,"p-dropdown",20),n.bc("onChange",(function(i){return n.wc(e),n.dc().changeTypeProfit(i)})),n.Ec(17,_,2,1,"ng-template",21),n.Ec(18,x,2,2,"ng-template",22),n.Sb(),n.Ec(19,P,2,1,"div",18),n.Sb(),n.Sb(),n.Tb(20,"div",23),n.Tb(21,"div",24),n.Tb(22,"button",25),n.bc("click",(function(){return n.wc(e),n.dc().save()})),n.Tb(23,"span"),n.Ob(24,"i",26),n.Gc(25," Guardar "),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb()}if(2&e){const e=n.dc();n.Bb(6),n.jc("formGroup",e.form),n.Bb(6),n.jc("ngIf",e.form.controls.nombre.invalid&&(e.form.controls.nombre.dirty||e.form.controls.nombre.touched)),n.Bb(4),n.jc("options",e.typesProfit)("showClear",!0),n.Bb(3),n.jc("ngIf",e.form.controls.id_tipo_ganancia.invalid&&(e.form.controls.id_tipo_ganancia.dirty||e.form.controls.id_tipo_ganancia.touched)),n.Bb(3),n.jc("disabled",e.form.pristine||e.form.invalid||e.loading),n.Bb(2),n.jc("ngClass",n.nc(7,R,!e.loading,e.loading))}}function M(e,i){if(1&e&&(n.Tb(0,"th"),n.Gc(1),n.Sb()),2&e){const e=i.$implicit;n.Bb(1),n.Ic(" ",e.header," ")}}function L(e,i){if(1&e&&(n.Tb(0,"tr"),n.Ec(1,M,2,1,"th",35),n.Sb()),2&e){const e=i.$implicit;n.Bb(1),n.jc("ngForOf",e)}}function $(e,i){if(1&e){const e=n.Ub();n.Tb(0,"button",8),n.bc("click",(function(){n.wc(e);const i=n.dc().$implicit;return n.dc(2).onRowSelect(i.id)})),n.Tb(1,"span"),n.Ob(2,"i",39),n.Sb(),n.Sb()}}function q(e,i){if(1&e){const e=n.Ub();n.Tb(0,"button",8),n.bc("click",(function(){n.wc(e);const i=n.dc().$implicit;return n.dc(2).confirm(i.id)})),n.Tb(1,"span"),n.Ob(2,"i",40),n.Sb(),n.Sb()}}function z(e,i){if(1&e&&(n.Tb(0,"tr",36),n.Tb(1,"td"),n.Tb(2,"span",37),n.Gc(3,"Cantidad"),n.Sb(),n.Gc(4),n.Sb(),n.Tb(5,"td"),n.Tb(6,"span",37),n.Gc(7,"Fecha"),n.Sb(),n.Gc(8),n.ec(9,"date"),n.Sb(),n.Tb(10,"td"),n.Ec(11,$,3,0,"button",38),n.Ec(12,q,3,0,"button",38),n.Sb(),n.Sb()),2&e){const e=i.$implicit,t=n.dc(2);n.jc("pSelectableRow",e),n.Bb(4),n.Ic(" ",e.cantidad," "),n.Bb(4),n.Ic(" ",n.fc(9,5,e.fecha,"dd/MM/yyyy")," "),n.Bb(3),n.jc("ngIf",!t.isMonthly),n.Bb(1),n.jc("ngIf",!t.isMonthly)}}function D(e,i){if(1&e){const e=n.Ub();n.Tb(0,"div",43),n.Tb(1,"button",44),n.bc("click",(function(){return n.wc(e),n.dc(3).add()})),n.Sb(),n.Sb()}}function H(e,i){1&e&&(n.Tb(0,"div",45),n.Gc(1," Los ingresos mensuales se gestionan en la pantalla de Plantillas "),n.Sb())}function X(e,i){if(1&e&&(n.Ec(0,D,2,0,"div",41),n.Ec(1,H,2,0,"div",42)),2&e){const e=n.dc(2);n.jc("ngIf",!e.isMonthly),n.Bb(1),n.jc("ngIf",e.isMonthly)}}function U(e,i){if(1&e&&(n.Tb(0,"div",30),n.Tb(1,"div",12),n.Gc(2," Listado de ingresos "),n.Sb(),n.Tb(3,"div",13),n.Tb(4,"div",1),n.Tb(5,"div",2),n.Tb(6,"p-table",31),n.Ec(7,L,2,1,"ng-template",32),n.Ec(8,z,13,8,"ng-template",33),n.Ec(9,X,2,2,"ng-template",34),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb()),2&e){const e=n.dc();n.Bb(6),n.jc("columns",e.cols)("value",e.profit.ingresos)("paginator",!0)("rows",5)("responsive",!0)("lazy",!0)}}let A=(()=>{class e{constructor(e,i,t,r,o,a,n,s,c){this.formBuilder=e,this.profitService=i,this.activatedRoute=t,this.typeProfitService=r,this.location=o,this.messageService=a,this.confirmationService=n,this.router=s,this.revenueService=c,this.typesProfit=[],this.cols=[{field:"cantidad",header:"Cantidad"},{field:"fecha",header:"Fecha"},{field:"",header:"Opciones"}]}ngOnInit(){this.newProfit="new"===this.activatedRoute.snapshot.params.id,this.newProfit?(this.profit=new y,this.buildForm()):(Promise.resolve().then(()=>this.loading=!0),this.profitService.find(this.activatedRoute.snapshot.params.id).subscribe(e=>{this.profit=e.data,this.isMonthly=this.profit.id_tipo_ganancia.valor.includes("Mensuales"),this.loading=!1,this.buildForm()},e=>{this.loading=!1,this.messageService.add({severity:"error",summary:"Error",detail:e.error.message})})),this.getTypesProfit()}getTypesProfit(){this.typeProfitService.findAll().subscribe(e=>{this.typesProfit=e.data})}buildForm(){this.form=this.formBuilder.group({nombre:new a.c(this.profit.nombre,[a.n.required,w.a]),id_tipo_ganancia:new a.c({value:this.profit.id_tipo_ganancia?this.profit.id_tipo_ganancia:"",disabled:!!this.profit.id_tipo_ganancia},a.n.required)})}save(){if(Promise.resolve().then(()=>this.loading=!0),this.profit.id){const e=Object.assign(this.profit,this.form.value);this.profitService.update(e,this.profit.id).subscribe(e=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:e.message}),this.profit=e.data,this.loading=!1},e=>{this.loading=!1,this.messageService.add({severity:"error",summary:"Error",detail:e.error.message})})}else{const e=Object.assign({},this.form.value);this.profitService.add(e).subscribe(e=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:e.message}),this.profit=e.data,this.isMonthly=this.profit.id_tipo_ganancia.valor.includes("Mensuales"),this.loading=!1,this.form.get("id_tipo_ganancia").disable(),this.location.replaceState("/home/profits/"+this.profit.id)},e=>{this.loading=!1,this.messageService.add({severity:"error",summary:"Error",detail:e.error.message})})}}back(){this.location.back()}confirm(e){this.confirmationService.confirm({message:"\xbfEst\xe1s seguro de que deseas borrar?",header:"Confirmaci\xf3n",icon:"pi pi-exclamation-triangle",accept:()=>{this.delete(e)}})}delete(e){this.revenueService.delete(e).subscribe(i=>{this.profit.ingresos=this.profit.ingresos.filter(i=>i.id!==e),this.messageService.add({severity:"success",summary:"\xc9xito",detail:i.message})},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.error.message})})}add(){this.router.navigate(["/home/profits/"+this.profit.id+"/revenue/new"])}onRowSelect(e){this.router.navigate(["/home/profits/"+this.profit.id+"/revenue/"+e])}changeTypeProfit(e){this.profit.id||(this.isMonthly=e.value.valor.includes("Mensuales"))}}return e.\u0275fac=function(i){return new(i||e)(n.Nb(a.b),n.Nb(s.a),n.Nb(o.a),n.Nb(b.a),n.Nb(l.g),n.Nb(c.d),n.Nb(c.a),n.Nb(o.b),n.Nb(G))},e.\u0275cmp=n.Hb({type:e,selectors:[["app-profit-detail"]],decls:15,vars:3,consts:[[1,"wrapper"],[1,"row"],[1,"col-12"],["class","row",4,"ngIf"],["class","card",4,"ngIf"],["class","card mt-3",4,"ngIf"],[1,"row","mt-3"],[1,"col-12","text-right"],["type","button",1,"btn","btn-secondary","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"],["src","./assets/notfound.png","alt","No existen resultados",1,"d-block","mx-auto","img-not-found"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"card-body"],[3,"formGroup"],[1,"col-12","col-md-6","form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre",1,"form-control","form-control-user"],["class","alert alert-danger mt-1",4,"ngIf"],["for","id_tipo_ganancia"],["formControlName","id_tipo_ganancia","placeholder","Seleccione tipo de ganancia","optionLabel","valor",3,"options","showClear","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"row","mt-1"],[1,"col-12","text-right","mt-2"],["type","button",1,"btn","btn-primary","mr-1",3,"disabled","click"],["aria-hidden","true",1,"fas",3,"ngClass"],[1,"alert","alert-danger","mt-1"],[4,"ngIf"],["tooltipPosition","top",3,"pTooltip"],[1,"card","mt-3"],[3,"columns","value","paginator","rows","responsive","lazy"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[4,"ngFor","ngForOf"],[3,"pSelectableRow"],[1,"ui-column-title"],["type","button","class","btn btn-secondary mr-1",3,"click",4,"ngIf"],["aria-hidden","true",1,"fas","fa-edit"],["aria-hidden","true",1,"fas","fa-trash"],["style","text-align:left",4,"ngIf"],["class","text-center",4,"ngIf"],[2,"text-align","left"],["type","button","pButton","","icon","pi pi-plus","label","A\xf1adir",3,"click"],[1,"text-center"]],template:function(e,i){1&e&&(n.Tb(0,"div",0),n.Tb(1,"div",1),n.Tb(2,"div",2),n.Tb(3,"h1"),n.Gc(4,"Detalle ganancia"),n.Sb(),n.Sb(),n.Sb(),n.Ob(5,"hr"),n.Ec(6,E,2,0,"div",3),n.Ec(7,F,26,10,"div",4),n.Ec(8,U,10,6,"div",5),n.Tb(9,"div",6),n.Tb(10,"div",7),n.Tb(11,"button",8),n.bc("click",(function(){return i.back()})),n.Tb(12,"span"),n.Ob(13,"i",9),n.Gc(14," Volver"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb()),2&e&&(n.Bb(6),n.jc("ngIf",!i.profit&&!i.loading),n.Bb(1),n.jc("ngIf",i.profit),n.Bb(1),n.jc("ngIf",i.profit&&i.profit.id))},directives:[l.k,a.o,a.i,a.e,a.a,a.h,a.d,d.a,c.e,l.i,I.a,f.d,l.j,f.a,u.a],pipes:[l.d],styles:[""]}),e})();var J=t("mgSE"),K=t("Gxio"),V=t("kAuD"),W=t("eO1q");function Y(e,i){1&e&&(n.Tb(0,"div",1),n.Ob(1,"img",9),n.Sb())}function Q(e,i){1&e&&(n.Tb(0,"div"),n.Gc(1," La cantidad es obligatoria "),n.Sb())}function Z(e,i){if(1&e&&(n.Tb(0,"div",24),n.Ec(1,Q,2,0,"div",25),n.Sb()),2&e){const e=n.dc(2);n.Bb(1),n.jc("ngIf",e.form.controls.cantidad.errors.required)}}function ee(e,i){1&e&&(n.Tb(0,"div"),n.Gc(1," La fecha es obligatoria "),n.Sb())}function ie(e,i){if(1&e&&(n.Tb(0,"div",24),n.Ec(1,ee,2,0,"div",25),n.Sb()),2&e){const e=n.dc(2);n.Bb(1),n.jc("ngIf",e.form.controls.fecha.errors.required)}}const te=function(e,i){return{"fa-save":e,"fa-spinner fa-spin":i}};function re(e,i){if(1&e){const e=n.Ub();n.Tb(0,"div",10),n.Tb(1,"div",11),n.Gc(2," Dise\xf1ador ingreso "),n.Sb(),n.Tb(3,"div",12),n.Tb(4,"div",1),n.Tb(5,"div",2),n.Tb(6,"form",13),n.Tb(7,"div",1),n.Tb(8,"div",14),n.Tb(9,"label",15),n.Gc(10,"Cantidad"),n.Sb(),n.Ob(11,"input",16),n.Ec(12,Z,2,1,"div",17),n.Sb(),n.Tb(13,"div",14),n.Tb(14,"label",18),n.Gc(15,"Fecha del ingreso"),n.Sb(),n.Ob(16,"p-calendar",19),n.Ec(17,ie,2,1,"div",17),n.Sb(),n.Sb(),n.Tb(18,"div",20),n.Tb(19,"div",21),n.Tb(20,"button",22),n.bc("click",(function(){return n.wc(e),n.dc().save()})),n.Tb(21,"span"),n.Ob(22,"i",23),n.Gc(23," Guardar "),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb()}if(2&e){const e=n.dc();n.Bb(6),n.jc("formGroup",e.form),n.Bb(6),n.jc("ngIf",e.form.controls.cantidad.invalid&&(e.form.controls.cantidad.dirty||e.form.controls.cantidad.touched)),n.Bb(4),n.jc("locale",e.es)("dataType","string"),n.Bb(1),n.jc("ngIf",e.form.controls.fecha.invalid&&(e.form.controls.fecha.dirty||e.form.controls.fecha.touched)),n.Bb(3),n.jc("disabled",e.form.pristine||e.form.invalid||e.loading),n.Bb(2),n.jc("ngClass",n.nc(7,te,!e.loading,e.loading))}}const oe=function(){return{marginTop:"80px"}},ae=[{path:"",component:T},{path:":id",component:A},{path:":id/revenue/:idrevenue",component:(()=>{class e{constructor(e,i,t,r,o){this.location=e,this.revenueService=i,this.activatedRoute=t,this.formBuilder=r,this.messageService=o,this.es={firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Borrar"}}ngOnInit(){this.newRevenue="new"===this.activatedRoute.snapshot.params.idrevenue,this.newRevenue?(this.revenue=new J.a,this.buildForm()):(Promise.resolve().then(()=>this.loading=!0),this.revenueService.find(this.activatedRoute.snapshot.params.idrevenue).subscribe(e=>{this.revenue=e.data,this.loading=!1,this.buildForm()},e=>{this.loading=!1,this.messageService.add({severity:"error",summary:"Error",detail:e.error.message})}))}buildForm(){this.form=this.formBuilder.group({cantidad:new a.c(this.revenue.cantidad,a.n.required),fecha:new a.c(this.revenue.fecha,a.n.required)})}back(){this.location.back()}save(){if(Promise.resolve().then(()=>this.loading=!0),this.newRevenue){const e=Object.assign({},this.form.value);e.ganancia_id=this.activatedRoute.snapshot.params.id,this.revenueService.add(e).subscribe(()=>{this.loading=!1,this.back()},e=>{this.loading=!1,this.messageService.add({severity:"error",summary:"Error",detail:e.error.message})})}else{const e=Object.assign(this.revenue,this.form.value);this.revenueService.update(e).subscribe(()=>{this.loading=!1,this.back()},e=>{this.loading=!1,this.messageService.add({severity:"error",summary:"Error",detail:e.error.message})})}}}return e.\u0275fac=function(i){return new(i||e)(n.Nb(l.g),n.Nb(G),n.Nb(o.a),n.Nb(a.b),n.Nb(c.d))},e.\u0275cmp=n.Hb({type:e,selectors:[["app-revenue-detail"]],decls:15,vars:5,consts:[[1,"wrapper"],[1,"row"],[1,"col-12"],["class","row",4,"ngIf"],["class","card",4,"ngIf"],[1,"row","mt-3"],[1,"col-12","text-right"],["type","button",1,"btn","btn-secondary","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"],["src","./assets/notfound.png","alt","No existen resultados",1,"d-block","mx-auto","img-not-found"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"card-body"],[3,"formGroup"],[1,"col-12","col-md-6","form-group"],["for","cantidad"],["type","textbox","formControlName","cantidad","placeholder","XX.XX","appTwoDigitDecimaNumber","",1,"form-control","form-control-user"],["class","alert alert-danger mt-1",4,"ngIf"],["for","fecha"],["formControlName","fecha","dateFormat","yy-mm-dd",3,"locale","dataType"],[1,"row","mt-1"],[1,"col-12","text-right","mt-2"],["type","button",1,"btn","btn-primary","mr-1",3,"disabled","click"],["aria-hidden","true",1,"fas",3,"ngClass"],[1,"alert","alert-danger","mt-1"],[4,"ngIf"]],template:function(e,i){1&e&&(n.Tb(0,"div",0),n.Tb(1,"div",1),n.Tb(2,"div",2),n.Tb(3,"h1"),n.Gc(4,"Detalle ingreso"),n.Sb(),n.Sb(),n.Sb(),n.Ob(5,"hr"),n.Ec(6,Y,2,0,"div",3),n.Ec(7,re,24,10,"div",4),n.Tb(8,"div",5),n.Tb(9,"div",6),n.Tb(10,"button",7),n.bc("click",(function(){return i.back()})),n.Tb(11,"span"),n.Ob(12,"i",8),n.Gc(13," Volver"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Ob(14,"p-toast")),2&e&&(n.Bb(6),n.jc("ngIf",!i.revenue&&!i.loading),n.Bb(1),n.jc("ngIf",i.revenue),n.Bb(7),n.Cc(n.lc(4,oe)))},directives:[l.k,K.a,a.o,a.i,a.e,a.a,a.h,a.d,V.a,W.a,l.i],styles:[""]}),e})()}];let ne=(()=>{class e{}return e.\u0275mod=n.Lb({type:e}),e.\u0275inj=n.Kb({factory:function(i){return new(i||e)},imports:[[o.e.forChild(ae)],o.e]}),e})();t.d(i,"ProfitModule",(function(){return se}));let se=(()=>{class e{}return e.\u0275mod=n.Lb({type:e}),e.\u0275inj=n.Kb({factory:function(i){return new(i||e)},imports:[[r.a,ne]]}),e})()}}]);